{% import '@SgDatatables/Helper/macros.html.twig' as macros %}

{% if view_options.individualFiltering and view_features.stateSave %}
{# set the values from the stateSave back to its individual columns #}
.on('stateLoadParams.dt', function (e, oSettings, oData) {
    $(selector).find("tr .individual_filtering").each(function() {
        var element = $(this);

        //no data
        if (!oData[element.attr('id')]) {
            return;
        }

        switch (true) {
            //more to follow?
            case element.is('select'):
                element
                    .val(oData[element.attr('id')].value)
                    .prop('selected', true)
                    .trigger('change');

                break;
            default:
                element
                    .val(oData[element.attr('id')].value);
        }
    });

    return true;
})
{% endif %}
{% if (view_events.processing) %}
    .on('processing.dt', {{ macros.include_with_vars(view_events.processing) }})
{% endif %}
{% if (view_events.error) %}
    .on('error.dt', {{ macros.include_with_vars(view_events.error) }})
{% endif %}
{% if (view_events.preInit) %}
    .on('preInit.dt', {{ macros.include_with_vars(view_events.preInit) }})
{% endif %}
{% if (view_events.preXhr) %}
    .on('preXhr.dt', {{ macros.include_with_vars(view_events.preXhr) }})
{% endif %}
{% if (view_events.xhr) %}
    .on('xhr.dt', {{ macros.include_with_vars(view_events.xhr) }})
{% endif %}
{% if (view_events.stateLoadParams) %}
    .on('stateLoadParams.dt', {{ macros.include_with_vars(view_events.stateLoadParams) }})
{% endif %}
